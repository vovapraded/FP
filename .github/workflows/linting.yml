name: Linting

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  clj-kondo:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup clj-kondo
      run: |
        curl -sLO https://raw.githubusercontent.com/clj-kondo/clj-kondo/master/script/install-clj-kondo
        chmod +x install-clj-kondo
        ./install-clj-kondo --dir /usr/local/bin --download-dir /tmp --version 2024.11.14
        
    - name: Run clj-kondo linter
      run: |
        cd lab1
        clj-kondo --lint src test --config .clj-kondo/config.edn
      
    - name: Check code formatting (optional)
      run: |
        # Проверяем форматирование кода с помощью cljfmt (если нужно)
        echo "Checking code formatting..."
        # Можно добавить cljfmt позже если потребуется
